- DocumentID: v4.0
  Title: >-
    What's new in murex v4.0
  CategoryID: changelog
  DateTime: 2023-03-26 17:50
  Summary: >-
    
  Description: |-
    Breaking Changes:

    * `$PWD` is no longer a `str`. If you need to parse `$PWD` as a string then you should `out: $PWD` or use `${pwd}`

    * `.` is now a valid bareword character for variables. This will break any instances in code that contain something like `out $hello.`. You can use `out $(hello).` syntax for safer string infixing

    Features:

    * dot notation added for variables which allow accessing and writing to object properties

    * added support variable encapsulation via `$()` to avoid variable barewords from leaking into other values when infixed. eg `$(foobar)` is the same as `$foobar`

    * variable names can now be Unicode, eg `$(比如) = "举手之劳就可以使办公室更加环保，比如，使用再生纸。"`

    * Unicode wide characters are properly handled in readline
    
    * new data type `path` that is an object

    * new data type `paths`

    * support for lambdas added 

    * readline `[ctrl]`+`[f]` now supports word matching as well as regexp
    
    * readline `[ctrl]`+`[f]` now supports glob filters (eg `*.txt`) too

    * `$ENV` and `$GLOBAL` objects (deprecates the need for `global` and `export`)

    * improved error messages in expressions

    * scalars can be used as assignees in expressions, eg `$foo = "bar"` 

    Non-User Facing / Maintenance Changes:

    * backend support added for data types to be dynamic objects

    Bug Fixes:

    * function parameters default and comment fields are no longer order dependent

    * better string parsing for barewords inside arrays and objects

    * ahead of time hint caching now done on demand per hint page rather than against every executable upon _murex_ start up

    * new lines should be ignored in `%{}`

    * bareword `true` and `false` should be converted to boolean in `%{}`

    * autocomplete suggestions are now dedup'ed when delayed results return similar suggestions to fast results

    * various preview pane bug fixes

    * support for ANSI escape sequences in experimental (disabled by default) TTY buffer

    * correction to `count` docs








  Related:
    - commands/continue

